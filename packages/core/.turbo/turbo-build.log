
> @vibex/core@0.1.0 build /Users/hugh/tc/vibex/packages/core
> tsup src/index.ts --format cjs,esm --dts

[34mCLI[39m Building entry: src/index.ts
[34mCLI[39m Using tsconfig: tsconfig.json
[34mCLI[39m tsup v8.5.1
[34mCLI[39m Target: es2020
[34mCJS[39m Build start
[34mESM[39m Build start
[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@ai-sdk/anthropic"[0m

    src/provider.ts:14:32:
[37m      14 â”‚ import { createAnthropic } from [32m"@ai-sdk/anthropic"[37m;
         â•µ                                 [32m~~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@ai-sdk/anthropic" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@ai-sdk/anthropic"[0m

    src/provider.ts:14:32:
[37m      14 â”‚ import { createAnthropic } from [32m"@ai-sdk/anthropic"[37m;
         â•µ                                 [32m~~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@ai-sdk/anthropic" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@/vibex/data"[0m

    src/tool.ts:31:48:
[37m      31 â”‚   const { getServerDataAdapter } = await import([32m"@/vibex/data"[37m);
         â•µ                                                 [32m~~~~~~~~~~~~~~[0m

  You can mark the path "@/vibex/data" as external to exclude it from the bundle, which will remove
  this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle
  this failure at run-time instead of bundle-time.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@/lib/vibex-paths"[0m

    src/agent.ts:11:29:
[37m      11 â”‚ import { getVibexPath } from [32m"@/lib/vibex-paths"[37m;
         â•µ                              [32m~~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@/lib/vibex-paths" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@/lib/vibex-paths"[0m

    src/agent.ts:11:29:
[37m      11 â”‚ import { getVibexPath } from [32m"@/lib/vibex-paths"[37m;
         â•µ                              [32m~~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@/lib/vibex-paths" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@ai-sdk/openai"[0m

    src/provider.ts:15:29:
[37m      15 â”‚ import { createOpenAI } from [32m"@ai-sdk/openai"[37m;
         â•µ                              [32m~~~~~~~~~~~~~~~~[0m

  You can mark the path "@ai-sdk/openai" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@/vibex/data"[0m

    src/tool.ts:31:48:
[37m      31 â”‚   const { getServerDataAdapter } = await import([32m"@/vibex/data"[37m);
         â•µ                                                 [32m~~~~~~~~~~~~~~[0m

  You can mark the path "@/vibex/data" as external to exclude it from the bundle, which will remove
  this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle
  this failure at run-time instead of bundle-time.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../data/factory"[0m

    src/xagent.ts:13:37:
[37m      13 â”‚ import { getServerDataAdapter } from [32m"../data/factory"[37m;
         â•µ                                      [32m~~~~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@ai-sdk/openai"[0m

    src/provider.ts:15:29:
[37m      15 â”‚ import { createOpenAI } from [32m"@ai-sdk/openai"[37m;
         â•µ                              [32m~~~~~~~~~~~~~~~~[0m

  You can mark the path "@ai-sdk/openai" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../tools"[0m

    src/tool.ts:51:62:
[37m      51 â”‚     const { buildToolMap: buildCustomToolMap } = await import([32m"../tools"[37m);
         â•µ                                                               [32m~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../storage/space"[0m

    src/space.ts:16:50:
[37m      16 â”‚ import { SpaceStorage, SpaceStorageFactory } from [32m"../storage/space"[37m;
         â•µ                                                   [32m~~~~~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../data/factory"[0m

    src/xagent.ts:13:37:
[37m      13 â”‚ import { getServerDataAdapter } from [32m"../data/factory"[37m;
         â•µ                                      [32m~~~~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../storage/space"[0m

    src/space.ts:16:50:
[37m      16 â”‚ import { SpaceStorage, SpaceStorageFactory } from [32m"../storage/space"[37m;
         â•µ                                                   [32m~~~~~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../tools"[0m

    src/tool.ts:51:62:
[37m      51 â”‚     const { buildToolMap: buildCustomToolMap } = await import([32m"../tools"[37m);
         â•µ                                                               [32m~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@ai-sdk/deepseek"[0m

    src/provider.ts:16:25:
[37m      16 â”‚ import { deepseek } from [32m"@ai-sdk/deepseek"[37m;
         â•µ                          [32m~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@ai-sdk/deepseek" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@ai-sdk/deepseek"[0m

    src/provider.ts:16:25:
[37m      16 â”‚ import { deepseek } from [32m"@ai-sdk/deepseek"[37m;
         â•µ                          [32m~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@ai-sdk/deepseek" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@openrouter/ai-sdk-provider"[0m

    src/provider.ts:17:33:
[37m      17 â”‚ import { createOpenRouter } from [32m"@openrouter/ai-sdk-provider"[37m;
         â•µ                                  [32m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@openrouter/ai-sdk-provider" as external to exclude it from the bundle,
  which will remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "@openrouter/ai-sdk-provider"[0m

    src/provider.ts:17:33:
[37m      17 â”‚ import { createOpenRouter } from [32m"@openrouter/ai-sdk-provider"[37m;
         â•µ                                  [32m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

  You can mark the path "@openrouter/ai-sdk-provider" as external to exclude it from the bundle,
  which will remove this error and leave the unresolved path in the bundle.

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../../lib/id"[0m

    src/agent.ts:16:32:
[37m      16 â”‚ import { generateShortId } from [32m"../../lib/id"[37m;
         â•µ                                 [32m~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../../lib/id"[0m

    src/agent.ts:16:32:
[37m      16 â”‚ import { generateShortId } from [32m"../../lib/id"[37m;
         â•µ                                 [32m~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../storage/space"[0m

    src/xagent.ts:818:49:
[37m      818 â”‚     const { SpaceStorageFactory } = await import([32m"../storage/space"[37m);
          â•µ                                                  [32m~~~~~~~~~~~~~~~~~~[0m

[31mâœ˜ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "../storage/space"[0m

    src/xagent.ts:818:49:
[37m      818 â”‚     const { SpaceStorageFactory } = await import([32m"../storage/space"[37m);
          â•µ                                                  [32m~~~~~~~~~~~~~~~~~~[0m

[31mCJS[39m [31mBuild failed[39m
[31mError: Build failed with 11 errors:
src/agent.ts:11:29: ERROR: Could not resolve "@/lib/vibex-paths"
src/agent.ts:16:32: ERROR: Could not resolve "../../lib/id"
src/provider.ts:14:32: ERROR: Could not resolve "@ai-sdk/anthropic"
src/provider.ts:15:29: ERROR: Could not resolve "@ai-sdk/openai"
src/provider.ts:16:25: ERROR: Could not resolve "@ai-sdk/deepseek"
...
    at failureErrorWithLog (/Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:926:25
    at runOnEndCallbacks (/Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:1307:45)
    at buildResponseToResult (/Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:924:7)
    at /Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:951:16
    at responseCallbacks.<computed> (/Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/hugh/tc/vibex/node_modules/.pnpm/esbuild@0.27.0/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12)[39m
[31mESM[39m [31mBuild failed[39m
DTS Build start
