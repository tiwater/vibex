# Nixpacks configuration for Railway deployment
# This configures the docs site deployment in the monorepo

[phases.setup]
nixPkgs = ["nodejs_20"]
aptPkgs = []
cmds = ["corepack enable", "corepack prepare pnpm@9.0.0 --activate"]

[phases.install]
cmds = ["pnpm install --frozen-lockfile"]

[phases.build]
cmds = ["pnpm turbo run build --filter=@vibex/docs"]

[start]
cmd = "cd docs && pnpm start"

